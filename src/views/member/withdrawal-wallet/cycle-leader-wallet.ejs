<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/head') %>

  <body>
    <%- include('../layout/navbar') %> <%- include('../partials/logout') %> <%-
    include('../layout/sidebar') %>

    <main id="main" class="main">
      <%- include('../layout/breadcrumb') %>

      <section class="section dashboard">
        <div class="row" style="color: #012970">
          <div class="col-lg-12">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Bonus wallet</h5>

                <div class="table-responsive">
                  <!-- Table with stripped rows -->
                  <table
                    class="table table-striped table-bordered datatable text-truncate"
                  >
                    <thead class="table-dark">
                      <tr>
                        <th>Downline Name</th>
                        <th>Username</th>
                        <th>Amount Credited</th>
                        <th>Sponsor Username</th>
                        <th>Generation</th>
                        <th>Creadited Date</th>
                        <th>Package Type</th>
                      </tr>
                    </thead>
                    <tbody>
                      <% for( let i = 0; i < data.wallet.length; i++ ) { %>
                      <tr>
                        <td><%= data.wallet[i].downlineName %></td>
                        <td><%= data.wallet[i].username %></td>
                        <td><%= data.wallet[i].amount %></td>
                        <td><%= data.wallet[i].sponsorUsername %></td>
                        <td><%= data.wallet[i].generation %></td>
                        <td>
                          <%= (data.wallet[i].createdAt).toLocaleDateString() %>
                        </td>
                        <td><%= data.wallet[i].package %></td>
                      </tr>

                      <% } %>
                    </tbody>
                  </table>
                  <!-- End Table with stripped rows -->
                </div>
              </div>
              <div class="card-footer">
                <nav aria-label="...">
                  <ul class="pagination justify-content-center">
                    <li
                      class="page-item <%= !data.pagination.prevPage || data.pagination.currentPage === 1 ? 'disabled': '' %>"
                    >
                      <a
                        class="page-link"
                        href="?page=<%= data.pagination.prevPage || 1 %>"
                        aria-label="Previous"
                      >
                        <span aria-hidden="true">&laquo;</span>
                      </a>
                    </li>
                    <% for (let i = 1; i < data.pagination.totalPages + 1; i++)
                    {%>
                    <li
                      class="page-item <%= i === data.pagination.currentPage ? 'active' : '' %>"
                      aria-current="page"
                    >
                      <a class="page-link" href="?page=<%= i %>"><%= i %></a>
                    </li>
                    <% } %>

                    <li class="page-item">
                      <a
                        class="page-link <%= !data.pagination.nextPage || data.pagination.currentPage === data.pagination.totalPages ? 'disabled': '' %>"
                        href="?page=<%= data.pagination.nextPage || data.pagination.totalPages %>"
                        aria-label="Next"
                      >
                        <span aria-hidden="true">&raquo;</span>
                      </a>
                    </li>
                  </ul>
                </nav>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
    <!-- End #main -->
    <%- include('../layout/footer') %> <%- include('../partials/scripts') %>
  </body>
</html>
